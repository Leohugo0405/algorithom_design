# 算法驱动的迷宫探险游戏

## 项目简介

这是一个基于经典算法设计策略的迷宫探险游戏，AI玩家需要从起点出发，穿越随机生成的迷宫，收集资源、避开陷阱、破解机关，击败守卫BOSS，最终抵达终点。游戏集成了分治、动态规划、贪心、回溯、分支限界等五种核心算法。

## 核心算法

### 1. 分治法 - 迷宫生成
- **功能**: 生成无孤立区域且存在唯一通路的迷宫
- **实现**: 递归分割迷宫区域，确保连通性
- **特点**: 支持多种尺寸（7×7到15×15），随机分布游戏元素

### 2. 动态规划 - 资源收集路径规划
- **功能**: 计算从起点到终点的最优资源收集路径
- **状态**: `dp[i][j]` 表示走到坐标(i,j)时的最大资源值
- **特点**: 避开陷阱，优先拾取资源，提供全局最优解

### 3. 贪心算法 - 实时资源拾取策略
- **功能**: 在有限视野下优先选择性价比最高的资源
- **策略**: 每次移动选择视野内单位距离收益最大的资源
- **特点**: 快速决策，适合实时游戏

### 4. 回溯法 - 解谜关卡
- **功能**: 破解3位密码锁和简化数独谜题
- **实现**: 基于线索约束进行回溯搜索
- **特点**: 支持多种线索类型（质数、奇偶性、大小关系等）

### 5. 分支限界 - BOSS战策略优化
- **功能**: 在限定回合内找到击败BOSS的最小代价技能序列
- **状态**: 包括BOSS血量、玩家资源、已用回合数
- **特点**: 使用启发式函数和剪枝策略优化搜索

## 项目结构

```
算法设计课设/
├── main.py                 # 游戏主程序入口
├── requirements.txt        # 项目依赖
├── README.md              # 项目说明
├── src/
│   ├── config.py          # 游戏配置
│   ├── game_engine.py     # 游戏引擎核心
│   ├── algorithms/        # 算法模块
│   │   ├── maze_generator.py      # 分治法迷宫生成
│   │   ├── path_planning.py       # 动态规划路径规划
│   │   ├── greedy_strategy.py     # 贪心算法策略
│   │   ├── puzzle_solver.py       # 回溯法解谜
│   │   └── boss_strategy.py       # 分支限界BOSS战
│   └── ui/
│       └── game_ui.py     # 游戏用户界面
└── data/                  # 游戏数据存储目录
```

## 安装和运行

### 环境要求
- Python 3.7+
- pygame 2.1.0+
- numpy 1.21.0+

### 安装步骤

1. 克隆或下载项目到本地
2. 安装依赖包：
   ```bash
   pip install -r requirements.txt
   ```
3. 运行游戏：
   ```bash
   python main.py
   ```

## 游戏操作

### 基本控制
- **WASD** 或 **方向键**: 移动玩家
- **SPACE**: 暂停/继续游戏
- **ESC**: 退出游戏
- **R**: 重新开始游戏

### 算法演示
- **A**: 开启/关闭自动游戏（AI控制）
- **O**: 显示/隐藏动态规划最优路径（蓝线）
- **G**: 显示/隐藏贪心策略路径（绿线）
- **C**: 比较两种路径策略的效果

### 界面控制
- **S**: 显示/隐藏统计信息面板
- **H**: 显示/隐藏控制帮助面板
- **I**: 显示/隐藏算法信息面板

## 游戏元素

| 符号 | 含义 | 说明 |
|------|------|------|
| S | 起点 | 玩家开始位置 |
| E | 终点 | 游戏目标位置 |
| # | 墙壁 | 不可通过 |
| 空格 | 通路 | 可以通过 |
| G | 金币 | 资源，价值+5 |
| T | 陷阱 | 伤害，价值-3 |
| L | 机关 | 需要解谜才能通过 |
| B | BOSS | 需要战斗才能击败 |

## 算法特性

### 迷宫生成（分治法）
- 保证迷宫连通性
- 随机分布游戏元素
- 支持可视化生成过程
- 可保存为JSON格式

### 路径规划（动态规划）
- 全局最优解
- 考虑资源价值和陷阱惩罚
- 提供路径可视化
- 支持多目标优化

### 贪心策略
- 基于有限视野的实时决策
- 性价比优先选择
- 快速响应
- 适合动态环境

### 解谜系统（回溯法）
- 多种谜题类型
- 智能线索生成
- 复杂度分析
- 解题步骤追踪

### BOSS战斗（分支限界）
- 最优技能序列
- 多种技能组合
- 资源约束考虑
- 策略效率分析

## 性能分析

游戏提供了详细的算法性能分析功能：

1. **路径比较**: 动态规划 vs 贪心策略
2. **资源收集效率**: 不同策略的收益对比
3. **解谜尝试次数**: 回溯算法的搜索效率
4. **BOSS战斗回合数**: 分支限界的优化效果
5. **迷宫连通性验证**: 分治算法的正确性

## 扩展功能

- 支持自定义迷宫尺寸
- 可调节游戏难度
- 算法参数可配置
- 游戏数据可导出
- 支持多种可视化模式

## 技术亮点

1. **模块化设计**: 各算法独立实现，易于扩展
2. **可视化展示**: 实时显示算法执行过程
3. **性能对比**: 多种算法策略的效果比较
4. **交互体验**: 支持手动和自动两种游戏模式
5. **数据分析**: 提供详细的统计信息和分析报告

## 开发说明

### 代码结构
- 采用面向对象设计
- 清晰的模块分离
- 详细的代码注释
- 类型提示支持

### 算法实现
- 严格按照算法理论实现
- 包含复杂度分析
- 提供性能测试
- 支持参数调优

### 用户界面
- 基于pygame的图形界面
- 响应式布局设计
- 多面板信息显示
- 实时消息反馈

## 课程设计要求对应

本项目完全满足《算法设计与分析》课程设计的所有要求：

1. ✅ **分治法生成迷宫**: 无孤立区域，唯一通路
2. ✅ **动态规划路径规划**: 最优资源收集路径
3. ✅ **贪心算法实时策略**: 有限视野下的最优选择
4. ✅ **回溯法解谜**: 3位密码锁破解
5. ✅ **分支限界BOSS战**: 最小代价技能序列

### 验收标准
- ✅ **算法正确性**: 所有算法实现正确且高效
- ✅ **游戏可玩性**: 完整的游戏流程和挑战性
- ✅ **代码质量**: 模块化设计，注释清晰
- ✅ **可视化展示**: 算法过程和结果的图形化展示

## 许可证

本项目仅用于教育和学习目的。

## 作者

东北大学计算机学院 - 算法设计与分析课程设计
2024-2025春季学期